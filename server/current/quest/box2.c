#include <equip.h>

string *FileTable1 = ({

        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
		//Trang bi
        "/item/60/1030",
        "/item/61/1030",
        "/item/65/1030",
        "/item/66/1030",
        "/item/86/1030",
        "/item/87/1030",
        "/item/88/1030",
        "/item/60/2030",
        "/item/61/2030",
        "/item/65/2030",
        "/item/66/2030",
        "/item/86/2030",
        "/item/87/2030",
        "/item/88/2030",
        "/item/60/3030",
        "/item/61/3030",
        "/item/65/3030",
        "/item/66/3030",
        "/item/86/3030",
        "/item/87/3030",
        "/item/88/3030",
        "/item/60/4030",
        "/item/61/4030",
        "/item/65/4030",
        "/item/66/4030",
        "/item/86/4030",
        "/item/87/4030",
        "/item/88/4030",
        "/item/60/5030",
        "/item/61/5030",
        "/item/65/5030",
        "/item/66/5030",
        "/item/86/5030",
        "/item/87/5030",
        "/item/88/5030",
        "/item/60/6030",
        "/item/61/6030",
        "/item/65/6030",
        "/item/66/6030",
        "/item/86/6030",
        "/item/87/6030",
        "/item/88/6030",
        "/item/60/7030",
        "/item/61/7030",
        "/item/65/7030",
        "/item/66/7030",
        "/item/86/7030",
        "/item/87/7030",
        "/item/88/7030",
        "/item/70/1030",
        "/item/71/1030",
        "/item/72/1030",
        "/item/74/1030",
        "/item/75/1030",
        "/item/76/1030",
        "/item/77/1030",
        "/item/78/1030",
        "/item/79/1030",

        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
	

});

string *FileTable2 = ({
	
        "/item/60/1050",
        "/item/61/1050",
        "/item/65/1050",
        "/item/66/1050",
        "/item/86/1050",
        "/item/87/1050",
        "/item/88/1050",
        "/item/60/2050",
        "/item/61/2050",
        "/item/65/2050",
        "/item/66/2050",
        "/item/86/2050",
        "/item/87/2050",
        "/item/88/2050",
        "/item/60/3050",
        "/item/61/3050",
        "/item/65/3050",
        "/item/66/3050",
        "/item/86/3050",
        "/item/87/3050",
        "/item/88/3050",
        "/item/60/4050",
        "/item/61/4050",
        "/item/65/4050",
        "/item/66/4050",
        "/item/86/4050",
        "/item/87/4050",
        "/item/88/4050",
        "/item/60/5050",
        "/item/61/5050",
        "/item/65/5050",
        "/item/66/5050",
        "/item/86/5050",
        "/item/87/5050",
        "/item/88/5050",
        "/item/60/6050",
        "/item/61/6050",
        "/item/65/6050",
        "/item/66/6050",
        "/item/86/6050",
        "/item/87/6050",
        "/item/88/6050",
        "/item/60/7050",
        "/item/61/7050",
        "/item/65/7050",
        "/item/66/7050",
        "/item/86/7050",
        "/item/87/7050",
        "/item/88/7050",
        "/item/60/1040",
        "/item/61/1040",
        "/item/65/1040",
        "/item/66/1040",
        "/item/86/1040",
        "/item/87/1040",
        "/item/88/1040",
        "/item/60/2040",
        "/item/61/2040",
        "/item/65/2040",
        "/item/66/2040",
        "/item/86/2040",
        "/item/87/2040",
        "/item/88/2040",
        "/item/60/3040",
        "/item/61/3040",
        "/item/65/3040",
        "/item/66/3040",
        "/item/86/3040",
        "/item/87/3040",
        "/item/88/3040",
        "/item/60/4040",
        "/item/61/4040",
        "/item/65/4040",
        "/item/66/4040",
        "/item/86/4040",
        "/item/87/4040",
        "/item/88/4040",
        "/item/60/5040",
        "/item/61/5040",
        "/item/65/5040",
        "/item/66/5040",
        "/item/86/5040",
        "/item/87/5040",
        "/item/88/5040",
        "/item/60/6040",
        "/item/61/6040",
        "/item/65/6040",
        "/item/66/6040",
        "/item/86/6040",
        "/item/87/6040",
        "/item/88/6040",
        "/item/60/7040",
        "/item/61/7040",
        "/item/65/7040",
        "/item/66/7040",
        "/item/86/7040",
        "/item/87/7040",
        "/item/88/7040",
        "/item/70/1040",
        "/item/71/1040",
        "/item/72/1040",
        "/item/74/1040",
        "/item/75/1040",
        "/item/76/1040",
        "/item/77/1040",
        "/item/78/1040",
        "/item/79/1040",
        "/item/70/1050",
        "/item/71/1050",
        "/item/72/1050",
        "/item/74/1050",
        "/item/76/1050",
        "/item/75/1050",
        "/item/77/1050",
        "/item/78/1050",
        "/item/79/1050",

        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",

            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",

            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
            "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
        "/item/common/dacuonghoa",
});


string *FileTable3 = ({

	"/item/44/4489",
	"/item/mop/9512",
	"/item/mop/9522",
	"/item/mop/9532",
	"/item/mop/9552",
	"/item/mop/9562",
    "/item/common/box/tukim/item/tuidacuonghoa5",
    "/item/common/box/tukim/item/tuidacuonghoa5",
    "/item/common/box/tukim/item/tuidacuonghoa5",
    "/item/common/box/tukim/item/tuidacuonghoa5",
    "/item/common/box/tukim/item/tuidacuonghoa5",

        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",
        "/item/common/box/tukim/item/tuidacuonghoa5",

});	

object * get_item()
{
	int i, rand, size;
	string file;
	string * line;
	object * all, item;
	all = ({ });	
	rand = random(sizeof(FileTable3));
	file = FileTable3[rand];
	if (file=="cash")
	{
		item = new ("/item/std/0001");
		item->set_value(10000);
	}
	else
		item = new (file);
	all += ({ item });
	line = copy(FileTable2);
	for (i=0;i<2;i++)
	{
		size = sizeof(line);
		file = line[random(size)];
		item = new (file);
		all += ({ item });
		line -= ({ file });
		if (item->get_equip_type()>0 && item->get_equip_type()!=HAND_TYPE)
		{
			"/sys/item/equip"->init_equip_prop_3(item);
			"/sys/item/equip"->init_equip_prop_5(item);
			"/sys/item/equip"->init_equip_prop_5(item);
			"/sys/item/equip"->init_equip_prop_5(item);
			item->set_item_color(2);
			item->set_hide(0);
			item->set("forge", "1122");
		}		
	}
	line = copy(FileTable1);
	line += FileTable2;
	for (i=0;i<5;i++)
	{
		size = sizeof(line);
		file = line[random(size)];
		if (file=="cash")
		{
			item = new ("/item/std/0001");
			item->set_value(10000);
		}	
		else	
		{		
			item = new (file);
			if (item->get_max_combined()>1) 
			{
				if (item->get_stuff_type()>0)
					item->set_amount(5);
				else
					item->set_amount(2);
			}
			else
			if (item->get_equip_type()>0 && item->get_equip_type()!=HAND_TYPE)
			{
				"/sys/item/equip"->init_equip_prop_1(item);
				item->set_hide(0);
			}

            if (item->get_equip_type() > 0 && item->get_equip_type() != HAND_TYPE)
            {
                "/sys/item/equip"->init_equip_prop_3(item);
                "/sys/item/equip"->init_equip_prop_5(item);
                "/sys/item/equip"->init_equip_prop_5(item);
                "/sys/item/equip"->init_equip_prop_5(item);

                item->set_item_color(1);
                item->set_hide(0);
                item->set("forge", "11");
            }

		}
		all += ({ item });
		line -= ({ file });
	}	
	return all;
}

void check_item()
{
	int i, size;
	size = sizeof(FileTable1);
	for (i = 0;i<size;i++)
	{
		if (FileTable1[i]=="cash") continue;
		if(!load_object(FileTable1[i]))
		{
			log_file("test.dat", FileTable1[i]+" error\n");
		}
	}
	size = sizeof(FileTable2);
	for (i = 0;i<size;i++)
	{
		if (FileTable2[i]=="cash") continue;
		if(!load_object(FileTable2[i]))
		{
			log_file("test.dat", FileTable2[i]+" error\n");
		}
	}
	size = sizeof(FileTable3);
	for (i = 0;i<size;i++)
	{
		if (FileTable3[i]=="cash") continue;
		if(!load_object(FileTable3[i]))
		{
			log_file("test.dat", FileTable3[i]+" error\n");
		}
	}		
}